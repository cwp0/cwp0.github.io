<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>框架 | cwp0</title><meta name="author" content="cwp0"><meta name="copyright" content="cwp0"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="框架方面的面经">
<meta property="og:type" content="article">
<meta property="og:title" content="框架">
<meta property="og:url" content="https://cwp0.github.io/posts/17771.html">
<meta property="og:site_name" content="cwp0">
<meta property="og:description" content="框架方面的面经">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://s2.loli.net/2024/06/12/tSWPZr1EQH6XRAm.png">
<meta property="article:published_time" content="2024-06-12T14:49:36.000Z">
<meta property="article:modified_time" content="2024-06-27T16:15:41.000Z">
<meta property="article:author" content="cwp0">
<meta property="article:tag" content="面经">
<meta property="article:tag" content="框架">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2024/06/12/tSWPZr1EQH6XRAm.png"><link rel="shortcut icon" href="/img/assets/%E5%A4%B4%E5%83%8F.JPG"><link rel="canonical" href="https://cwp0.github.io/posts/17771.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"YNCOX66CR4","apiKey":"5c661928f53edb93f42b2f41a467cbfb","indexName":"cwp0_github_io","hits":{"per_page":10},"languages":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}.","hits_stats":"${hits} results found in ${time} ms"}},
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found"}},
  translate: {"defaultEncoding":1,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: 'days',
  dateSuffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: {"limitCount":66,"languages":{"author":"Author: cwp0","link":"Link: ","source":"Source: cwp0","info":"Copyright is owned by the author. For commercial reprints, please contact the author for authorization. For non-commercial reprints, please indicate the source."}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: true,
  },
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '框架',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-06-28 00:15:41'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/assets/%E5%A4%B4%E5%83%8F.JPG" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/pictures/"><i class="fa-fw fas fa-image"></i><span> Picture</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url('https://s2.loli.net/2024/06/12/avltHdTKVQ4JADx.png')"><nav id="nav"><span id="blog-info"><a href="/" title="cwp0"><img class="site-icon" src="/img/assets/%E5%A4%B4%E5%83%8F.JPG"/><span class="site-name">cwp0</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> Search</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li><li><a class="site-page child" href="/pictures/"><i class="fa-fw fas fa-image"></i><span> Picture</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">框架</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2024-06-12T14:49:36.000Z" title="Created 2024-06-12 22:49:36">2024-06-12</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2024-06-27T16:15:41.000Z" title="Updated 2024-06-28 00:15:41">2024-06-28</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E9%9D%A2%E7%BB%8F/">面经</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">Word count:</span><span class="word-count">6.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">Reading time:</span><span>20min</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="框架"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>本文参考 <a target="_blank" rel="noopener" href="https://javaguide.cn/">JavaGuide</a></p>
</blockquote>
<h2 id="Spring"><a href="#Spring" class="headerlink" title="Spring"></a>Spring</h2><h3 id="什么是Spring"><a href="#什么是Spring" class="headerlink" title="什么是Spring"></a>什么是Spring</h3><p>Spring 是一款基于 Java 的轻量级开源开发框架，旨在提高开发人员的开发效率以及系统的可维护性。</p>
<p>Spring 框架(Spring Framework)是很多模块的集合，使用这些模块可以很方便地协助进行开发。Spring 支持控制反转(Inversion of Control, IOC) 和 面向切面编程(Aspect-Oriented Programming, AOP)、可以很方便地对数据库进行访问、可以很方便地集成第三方组件(电子邮件，任务，调度，缓存等等)、对单元测试支持比较好、支持 RESTful Java 应用程序的开发。</p>
<p>Spring的核心功能主要是 <code>IoC</code> 和 <code>AOP</code>，核心思想是不重新造轮子，开箱即用，提高开发效率。</p>
<h3 id="Spring模块"><a href="#Spring模块" class="headerlink" title="Spring模块"></a>Spring模块</h3><p><img src="/./image/Framework/Spring-4-x.png" alt="Spring 4.x"></p>
<p>Spring5.x 版本中 Web 模块的 <code>Portlet</code> 组件已经被废弃掉，同时增加了用于异步响应式处理的 <code>WebFlux</code> 组件。</p>
<ul>
<li><code>Core Container</code>：Spring 框架的核心模块、基础模块，主要提供 IoC 依赖注入功能的支持。Spring 其他所有的功能基本都需要依赖于该模块。<ul>
<li><code>spring-core</code>：Spring 框架基本的核心工具类。</li>
<li><code>spring-beans</code>：提供对 <code>bean</code> 的创建、配置和管理等功能的支持。</li>
<li><code>spring-context</code>：提供对国际化、事件传播、资源加载等功能的支持。</li>
<li><code>spring-expression</code>：提供对表达式语言(Spring Expression Language, SpEL)的支持，只依赖于 <code>core</code> 模块，不依赖于其他模块，可以单独使用。</li>
</ul>
</li>
<li><code>AOP</code>：面向切面编程，提供对切面编程的支持。<ul>
<li><code>spring-aop</code>：提供了面向切面的编程实现。</li>
<li><code>spring-aspects</code>：该模块为与 <code>AspectJ</code> 的集成提供支持。</li>
<li><code>spring-instrument</code>：提供了为 JVM 添加代理(agent)的功能。其为 Tomcat 提供了一个织入代理，能够为 Tomcat 传递类文件，就像这些文件是被类加载器加载的一样。</li>
</ul>
</li>
<li><code>Data Access/Integration</code>：数据访问&#x2F;集成层，提供对数据库访问、事务管理、ORM、OXM、JMS 等功能的支持。<ul>
<li><code>spring-jdbc</code>：提供了对数据库访问的抽象 JDBC。不同的数据库都有自己独立的 API 用于操作数据库，而 Java 程序只需要和 JDBC API 交互，这样就屏蔽了数据库的影响。</li>
<li><code>spring-tx</code>：提供事务管理的支持。</li>
<li><code>spring-orm</code>：提供对 Hibernate、JPA、iBatis 等 ORM 框架的支持。</li>
<li><code>spring-oxm</code>：提供一个抽象层支撑 OXM(Object-to-XML-Mapping)，如：JAXB、Castor、XMLBeans、JiBX 和 XStream 等。</li>
<li><code>spring-jms</code>：消息服务。自 Spring Framework 4.1 以后，它还提供了对 <code>spring-messaging</code> 模块的继承。</li>
</ul>
</li>
<li><code>Spring Web</code>：Web 模块，提供对 Web 应用开发的支持。<ul>
<li><code>spring-web</code>：提供了基本的 Web 功能，如多文件上传、使用 <code>Servlet</code> 监听器初始化 Spring IoC 容器等。</li>
<li><code>spring-webmvc</code>：提供了 Spring MVC 的实现。</li>
<li><code>spring-websocket</code>：提供了对 WebSocket 的支持，可以让客户端和服务端进行双向通信。</li>
<li><code>spring-webflux</code>：提供对 WebFlux 的支持。WebFlux 是 Spring Framework 5.0 中引入的新的响应式框架。与 Spring MVC 不同，它不需要 Servlet API，是完全异步。</li>
</ul>
</li>
<li><code>Messaging</code>：<code>spring-messaging</code> 是Spring4.0新加入的模块，主要职责是为 Spring 框架集成一些基础的报文传送应用。</li>
<li><code>Spring Test</code>：Spring有控制反转 (IoC)的帮助，单元测试和集成测试变得更简单。Spring 的测试模块对 JUnit(单元测试框架)、TestNG(类似 JUnit)、Mockito(主要用来 Mock 对象)、PowerMock(解决 Mockito 的问题比如无法模拟 <code>final</code>，<code>static</code>，<code>private</code> 方法)等等常用的测试框架支持的都比较好。</li>
</ul>
<p><img src="/./image/Framework/Spring%E5%90%84%E6%A8%A1%E5%9D%97%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB.png" alt="Spring各模块依赖关系"></p>
<h3 id="Spring-Spring-Boot-Spring-MVC之间的关系"><a href="#Spring-Spring-Boot-Spring-MVC之间的关系" class="headerlink" title="Spring&#x2F;Spring Boot&#x2F;Spring MVC之间的关系"></a>Spring&#x2F;Spring Boot&#x2F;Spring MVC之间的关系</h3><ul>
<li>Spring是基于 Java 的轻量级开源框架，包含众多模块，其中最重要的是<code>Spring-Core</code>(主要提供 <code>IoC</code> 依赖注入功能的支持)模块， Spring中的其他模块(如 <code>Spring MVC</code>)的功能实现基本都需要依赖于该模块。</li>
<li><code>Spring MVC</code> 是 Spring 中的一个很重要的模块，主要赋予 Spring 快速构建 MVC 架构的 Web 程序的能力。MVC 是模型(Model)、视图(View)、控制器(Controller)的简写，其核心思想是通过将业务逻辑、数据、显示分离来组织代码。</li>
<li>使用 Spring 进行开发各种配置过于麻烦比如开启某些 Spring 特性时，需要用 XML 或 Java 进行显式配置。过于麻烦，所以 <code>Spring Boot</code> 诞生了，其只是简化了配置，如果需要构建 MVC 架构的 Web 程序，还是需要使用 <code>Spring MVC</code> 作为 MVC 框架，只是说 <code>Spring Boot</code> 简化了 <code>Spring MVC</code> 的很多配置，真正做到开箱即用！<ul>
<li>Spring 旨在简化 J2EE 企业应用程序开发。<code>Spring Boot</code> 旨在简化 Spring 开发(减少配置文件，开箱即用！)。</li>
</ul>
</li>
</ul>
<h3 id="Spring-IoC✅"><a href="#Spring-IoC✅" class="headerlink" title="Spring IoC✅"></a>Spring IoC✅</h3><h3 id="对Spring-IoC的理解"><a href="#对Spring-IoC的理解" class="headerlink" title="对Spring IoC的理解"></a>对Spring IoC的理解</h3><p>控制反转(Inversion of Control, IoC)是一种设计思想，而不是一个具体的技术实现，并非Spring特有。IoC 的思想就是将原本在程序中手动创建对象的控制权，交由 Spring 框架来管理。</p>
<h3 id="Spring-IoC原理"><a href="#Spring-IoC原理" class="headerlink" title="Spring IoC原理"></a>Spring IoC原理</h3><p>控制反转指将对象的创建和依赖关系的管理从应用程序代码中抽离出来，交给Spring容器进行管理。</p>
<p><strong>控制反转</strong></p>
<ul>
<li>控制：指的是对象创建(实例化、管理)的权力</li>
<li>反转：控制权交给外部环境(Spring 框架、<code>IoC</code> 容器)</li>
</ul>
<p>实现控制反转有多种方式：</p>
<ul>
<li>依赖注入：通过注入方式实现依赖管理，易于测试和维护，广泛应用于现代开发框架(如Spring)。</li>
<li>服务定位器模式：通过中央注册器获取服务，使用方便，但可能引入全局状态和隐藏依赖。</li>
<li>事件驱动架构：通过事件进行解耦，适用于异步处理和复杂业务流程。</li>
<li>依赖查找：通过标准API查找依赖，适用于某些特定场景，但查找过程可能较为复杂。</li>
</ul>
<p><strong>Spring IoC容器</strong><br>Spring IoC容器是负责管理对象及其依赖关系的核心组件。IoC 容器实际上就是个 Map(key，value)，Map 中存放的是各种对象。主要的IoC容器有：</p>
<ul>
<li><code>BeanFactory</code>：最基础的IoC容器，提供基本的依赖注入功能。</li>
<li><code>ApplicationContext</code>：继承自<code>BeanFactory</code>，提供更多高级功能，如事件发布、国际化、AOP等。</li>
</ul>
<h3 id="什么是Spring-Bean"><a href="#什么是Spring-Bean" class="headerlink" title="什么是Spring Bean"></a>什么是Spring Bean</h3><p>在Spring中，bean是由IoC容器管理的对象。bean的定义和配置可以通过以下几种方式：</p>
<ul>
<li>XML配置文件：在XML文件中定义<code>bean</code>及其依赖关系。</li>
<li>注解配置：通过Java注解(如<code>@Component</code>、<code>@Autowired</code>等)定义和注入<code>bean</code>。</li>
<li>Java配置类：使用<code>@Configuration</code>和<code>@Bean</code>注解，通过Java类定义<code>bean</code>。</li>
</ul>
<h3 id="将一个类声明为Bean的注解有哪些"><a href="#将一个类声明为Bean的注解有哪些" class="headerlink" title="将一个类声明为Bean的注解有哪些"></a>将一个类声明为Bean的注解有哪些</h3><ul>
<li><code>@Component</code>：通用的注解，可标注任意类为 Spring 组件。如果一个 Bean 不知道属于哪个层，可以使用<code>@Component</code> 注解标注。</li>
<li><code>@Repository</code>： 对应持久层即 Dao 层，主要用于数据库相关操作。</li>
<li><code>@Service</code>： 对应服务层，主要涉及一些复杂的逻辑，需要用到 Dao 层。</li>
<li><code>@Controller</code>： 对应 <code>Spring MVC</code> 控制层，主要用于接受用户请求并调用 Service 层返回数据给前端页面。</li>
</ul>
<h3 id="Component-Bean区别"><a href="#Component-Bean区别" class="headerlink" title="@Component&#x2F;@Bean区别"></a>@Component&#x2F;@Bean区别</h3><p><strong>主要区别</strong></p>
<ol>
<li>定义方式：</li>
</ol>
<ul>
<li><code>@Component</code> 是在类上使用，Spring 自动扫描并注册 Bean。</li>
<li><code>@Bean</code> 是在方法上使用，返回值被注册为 Bean。</li>
</ul>
<ol start="2">
<li>适用场景：</li>
</ol>
<ul>
<li><code>@Component</code> 适用于开发人员自己编写的类。</li>
<li><code>@Bean</code> 适用于第三方库的类或需要复杂配置的 Bean。</li>
</ul>
<ol start="3">
<li>扫描和配置：</li>
</ol>
<ul>
<li><code>@Component</code> 需要启用组件扫描。</li>
<li><code>@Bean</code> 通常与配置类一起使用，不需要组件扫描。</li>
</ul>
<p>总结来说，<code>@Component</code> 更适合于直接在类上进行标注，简化了配置过程；而 <code>@Bean</code> 则提供了更多的灵活性，可以在配置类中以编程的方式定义 Bean。</p>
<p><strong>@Component</strong></p>
<ul>
<li>用途：<code>@Component</code> 用于标记一个类为 Spring 容器的组件(Bean)。</li>
<li>使用方式：直接在类上使用。Spring 会自动扫描带有 <code>@Component</code> 注解的类，并将其注册为 Spring 容器中的 Bean。</li>
<li>扫描：需要在配置类上使用 <code>@ComponentScan</code> 注解来启用自动扫描。</li>
<li>适用范围：通常用于标记服务层、数据访问层、控制层等组件类。</li>
<li>例子：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    <span class="comment">// 服务实现</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<strong>@Bean</strong></li>
<li>用途：<code>@Bean</code> 用于在配置类中定义一个方法，该方法的返回值会被注册为 Spring 容器中的 Bean。</li>
<li>使用方式：在配置类的方法上使用，方法的返回值会作为 Bean 注册到 Spring 容器中。</li>
<li>配置类：通常与 <code>@Configuration</code> 注解一起使用，表明这是一个配置类。</li>
<li>适用范围：通常用于定义第三方库的 Bean，或者需要复杂初始化的 Bean。</li>
<li>例子：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MyService <span class="title function_">myService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MyServiceImpl</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="用于注入Bean的注解有哪些？"><a href="#用于注入Bean的注解有哪些？" class="headerlink" title="用于注入Bean的注解有哪些？"></a>用于注入Bean的注解有哪些？</h3><h4 id="Autowired"><a href="#Autowired" class="headerlink" title="@Autowired"></a>@Autowired</h4><ul>
<li><strong>用途</strong>：<code>@Autowired</code> 用于自动注入 Bean，Spring 会自动满足标记了该注解的依赖。</li>
<li><strong>使用位置</strong>：可以用在字段、构造方法、Setter 方法以及普通方法上。</li>
<li><strong>特点</strong>：默认按类型注入，可以结合 <code>@Qualifier</code> 按名称注入。</li>
<li><strong>例子</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> MyRepository myRepository;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 或者使用构造方法注入</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyService</span><span class="params">(MyRepository myRepository)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.myRepository = myRepository;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h4><ul>
<li><strong>用途</strong>：<code>@Resource</code> 是 JSR-250 标准的注解，可以按名称或类型注入。</li>
<li><strong>使用位置</strong>：字段、Setter 方法。</li>
<li><strong>特点</strong>：默认按名称注入，如果找不到匹配的 Bean，则按类型注入。</li>
<li><strong>例子</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Resource(name = &quot;myRepository&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> MyRepository myRepository;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Qualifier"><a href="#Qualifier" class="headerlink" title="@Qualifier"></a>@Qualifier</h4><ul>
<li><strong>用途</strong>：与 <code>@Autowired</code> 一起使用，按名称注入 Bean。</li>
<li><strong>使用位置</strong>：字段、构造方法参数、Setter 方法参数。</li>
<li><strong>特点</strong>：解决同类型 Bean 多个实例的冲突问题。</li>
<li><strong>例子</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;specificRepository&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> MyRepository myRepository;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Inject"><a href="#Inject" class="headerlink" title="@Inject"></a>@Inject</h4><ul>
<li><strong>用途</strong>：<code>@Inject</code> 是 JSR-330 标准的注解，功能与 <code>@Autowired</code> 类似。</li>
<li><strong>使用位置</strong>：字段、构造方法、Setter 方法。</li>
<li><strong>特点</strong>：仅支持按类型注入，可以结合 <code>@Named</code> 注解按名称注入。</li>
<li><strong>例子</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="keyword">private</span> MyRepository myRepository;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 或者使用构造方法注入</span></span><br><span class="line">    <span class="meta">@Inject</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyService</span><span class="params">(MyRepository myRepository)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.myRepository = myRepository;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><ul>
<li><strong>用途</strong>：<code>@Value</code> 用于注入简单值，比如基本类型、字符串、Spring EL 表达式等。</li>
<li><strong>使用位置</strong>：字段、构造方法参数、Setter 方法参数。</li>
<li><strong>特点</strong>：可以注入配置文件中的属性值。</li>
<li><strong>例子</strong>：<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyService</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;app.name&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String appName;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><code>@Autowired</code> 和<code>@Resource</code>用的多一些。</p>
<h3 id="Autowired-Resource区别"><a href="#Autowired-Resource区别" class="headerlink" title="@Autowired&#x2F;@Resource区别"></a>@Autowired&#x2F;@Resource区别</h3><ul>
<li>默认注入方式：<ul>
<li><code>@Autowired</code> 默认根据接口类型(<code>byType</code>)去匹配并注入Bean(接口的实现类)。当一个接口存在多个实现类的话，<code>Autowired</code> 可以通过 <code>@Qualifier</code> 注解来显式指定类名称。</li>
<li><code>@Resource</code> 当一个接口存在多个实现类的话，默认按类名称(<code>byName</code>)注入。如果无法通过名称匹配到对应的 Bean 的话，注入方式会变为<code>byType</code>。</li>
</ul>
</li>
<li>注解来源：<ul>
<li><code>@Autowired</code>：Spring 框架提供的注解。</li>
<li><code>@Resource</code>：JSR-250(JDK) 标准提供的注解。</li>
</ul>
</li>
<li>使用位置：<ul>
<li><code>@Autowired</code> 可以用在构造函数、方法、字段以及参数上。</li>
<li><code>@Resource</code> 通常用在字段和 Setter 方法上的注入。</li>
</ul>
</li>
<li>配置属性：<ul>
<li><code>@Autowired</code>：可以结合 <code>@Qualifier</code> 按名称注入。</li>
<li><code>@Resource</code>：可以通过 <code>name</code> 属性指定 <code>Bean</code> 名称，通过 <code>type</code> 属性指定 Bean 类型。</li>
</ul>
</li>
<li>处理机制：<ul>
<li><code>@Autowired</code>：使用 Spring 的依赖注入机制。</li>
<li><code>@Resource</code>：使用 JNDI 进行资源查找，适合在 Java EE 容器环境中使用。</li>
</ul>
</li>
</ul>
<p>总的来说，<code>@Autowired</code> 更加灵活和强大，适合在 Spring 应用中广泛使用；而 <code>@Resource</code> 则提供了一种更标准化的方式进行依赖注入，特别是在需要与 Java EE 容器进行集成时。</p>
<blockquote>
<p><code>@Resource</code> 有两个比较重要且日常开发常用的属性：<code>name</code>(名称)、<code>type</code>(类型)。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Resource &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt; type() <span class="keyword">default</span> Object.class;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果仅指定 <code>name</code> 属性则注入方式为<code>byName</code>，如果仅指定<code>type</code>属性则注入方式为<code>byType</code>，如果同时指定<code>name</code>和<code>type</code>属性(不建议这么做)则注入方式为<code>byType</code>+<code>byName</code>。</p>
</blockquote>
<h3 id="Bean的作用域有哪些？"><a href="#Bean的作用域有哪些？" class="headerlink" title="Bean的作用域有哪些？"></a>Bean的作用域有哪些？</h3><p>在 Spring 框架中，Bean 的作用域(scope)定义了 Bean 的生命周期和可见性。Spring 提供了以下几种常见的 Bean 作用域：</p>
<ul>
<li><code>Singleton</code><ul>
<li><strong>描述</strong>：默认作用域。在整个 Spring 容器中只有一个 Bean 实例，每次请求该 Bean 时都会返回同一个实例。</li>
<li><strong>使用场景</strong>：大多数情况下使用，适用于无状态的 Bean。</li>
</ul>
</li>
<li><code>Prototype</code><ul>
<li><strong>描述</strong>：每次请求该 Bean 时，都会创建一个新的实例。</li>
<li><strong>使用场景</strong>：适用于有状态的 Bean 或需要每次使用时创建新实例的 Bean。</li>
</ul>
</li>
<li><code>Request</code><ul>
<li><strong>描述</strong>：在一个 HTTP 请求中，每次请求该 Bean 时，都会创建一个新的实例。该作用域仅在 Web 应用程序中有效。</li>
<li><strong>使用场景</strong>：适用于每个 HTTP 请求需要一个独立 Bean 实例的情况，例如处理用户请求的控制器。</li>
</ul>
</li>
<li><code>Session</code><ul>
<li><strong>描述</strong>：在一个 HTTP 会话中，每次请求该 Bean 时，都会返回同一个实例。该作用域仅在 Web 应用程序中有效。</li>
<li><strong>使用场景</strong>：适用于需要在整个用户会话期间保持状态的 Bean。</li>
</ul>
</li>
<li><code>Global Session</code><ul>
<li><strong>描述</strong>：在一个全局 HTTP 会话中，每次请求该 Bean 时，都会返回同一个实例。该作用域主要用于 Portlet 应用程序。</li>
<li><strong>使用场景</strong>：适用于需要在全局 Portlet 会话期间保持状态的 Bean。</li>
</ul>
</li>
<li><code>Application</code><ul>
<li><strong>描述</strong>：在整个应用程序生命周期内，每次请求该 Bean 时，都会返回同一个实例。通常在 Web 应用程序中使用。</li>
<li><strong>使用场景</strong>：适用于需要在整个应用程序生命周期内共享的 Bean。</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Scope中可以指定Bean的作用域，取值：singleton、prototype、request、session、globalSession、application</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Scope(&quot;singleton&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MySingletonBean</span> &#123;</span><br><span class="line">    <span class="comment">// 实现代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Bean是线程安全的吗"><a href="#Bean是线程安全的吗" class="headerlink" title="Bean是线程安全的吗"></a>Bean是线程安全的吗</h3><p>在 Spring 框架中，Bean 的线程安全性取决于其作用域和状态。以下是一些常见情况：</p>
<h3 id="Singleton-Bean"><a href="#Singleton-Bean" class="headerlink" title="Singleton Bean"></a>Singleton Bean</h3><ul>
<li><strong>默认作用域</strong>：<code>@Scope(&quot;singleton&quot;)</code></li>
<li><strong>描述</strong>：单例 Bean 在 Spring 容器中只有一个实例，并且该实例会被多个线程共享。</li>
<li><strong>线程安全性</strong>：单例 Bean 本身并不是线程安全的。如果单例 Bean 中包含可变的共享状态，则需要确保其线程安全。这可以通过以下方式实现：<ul>
<li>不在单例 Bean 中使用可变状态。</li>
<li>使用线程安全的数据结构(如 <code>ConcurrentHashMap</code>)。</li>
<li>在访问可变状态时使用同步(如 <code>synchronized</code>)。</li>
<li>采用无状态的设计模式。</li>
</ul>
</li>
</ul>
<h3 id="Prototype-Bean"><a href="#Prototype-Bean" class="headerlink" title="Prototype Bean"></a>Prototype Bean</h3><ul>
<li><strong>作用域</strong>：<code>@Scope(&quot;prototype&quot;)</code></li>
<li><strong>描述</strong>：原型 Bean 每次请求时都会创建一个新的实例，因此每个线程都会获得一个新的实例。</li>
<li><strong>线程安全性</strong>：由于每个线程都有自己的实例，原型 Bean 通常是线程安全的。但是，原型 Bean 的生命周期由使用它的对象管理，可能需要注意其创建和销毁的时机。</li>
</ul>
<h3 id="Request-和-Session-Scoped-Beans"><a href="#Request-和-Session-Scoped-Beans" class="headerlink" title="Request 和 Session Scoped Beans"></a>Request 和 Session Scoped Beans</h3><ul>
<li><strong>作用域</strong>：<code>@Scope(&quot;request&quot;)</code> 和 <code>@Scope(&quot;session&quot;)</code></li>
<li><strong>描述</strong>：请求作用域的 Bean 在一个 HTTP 请求中创建和销毁。会话作用域的 Bean 在一个 HTTP 会话中创建和销毁。</li>
<li><strong>线程安全性</strong>：请求作用域的 Bean 通常是线程安全的，因为每个请求都是独立的。会话作用域的 Bean 可能会被多个线程共享，需要考虑线程安全性。</li>
</ul>
<h3 id="Application-Scoped-Beans"><a href="#Application-Scoped-Beans" class="headerlink" title="Application Scoped Beans"></a>Application Scoped Beans</h3><ul>
<li><strong>作用域</strong>：<code>@Scope(&quot;application&quot;)</code></li>
<li><strong>描述</strong>：应用程序作用域的 Bean 在整个应用程序生命周期内共享。</li>
<li><strong>线程安全性</strong>：与单例 Bean 类似，应用程序作用域的 Bean 需要注意线程安全性问题。</li>
</ul>
<h3 id="Global-Session-Scoped-Beans"><a href="#Global-Session-Scoped-Beans" class="headerlink" title="Global Session Scoped Beans"></a>Global Session Scoped Beans</h3><ul>
<li><strong>作用域</strong>：<code>@Scope(&quot;globalSession&quot;)</code></li>
<li><strong>描述</strong>：全局会话作用域的 Bean 在 Portlet 应用程序的全局会话中共享。</li>
<li><strong>线程安全性</strong>：类似于会话作用域的 Bean，需要考虑线程安全性。</li>
</ul>
<p>总之，除非 Bean 的设计明确考虑了线程安全性，否则默认情况下 Spring 容器不会保证 Bean 的线程安全。确保线程安全的最佳实践包括无状态设计、使用线程安全的数据结构以及适当的同步机制。</p>
<h3 id="Bean的生命周期"><a href="#Bean的生命周期" class="headerlink" title="Bean的生命周期"></a>Bean的生命周期</h3><ol>
<li>创建 Bean 的实例：Bean 容器首先会找到配置文件中的 Bean 定义，然后使用 Java 反射 API 来创建 Bean 的实例。</li>
<li>Bean 属性填充(依赖注入)：为 Bean 设置相关属性和依赖，如<code>@Autowired</code> 等注解注入的对象、<code>@Value</code> 注入的值、<code>setter</code>方法或构造函数注入依赖和值、<code>@Resource</code>注入的各种资源。</li>
<li>Bean的初始化<ol>
<li>调用<code>Aware</code>接口的方法：<ul>
<li>如果 Bean 实现了 <code>BeanNameAware</code> 接口，调用 <code>setBeanName()</code>方法，传入 Bean 的名字。</li>
<li>如果 Bean 实现了 <code>BeanClassLoaderAware</code> 接口，调用 <code>setBeanClassLoader()</code>方法，传入 <code>ClassLoader</code>对象的实例。</li>
<li>如果 Bean 实现了 <code>BeanFactoryAware</code> 接口，调用 <code>setBeanFactory()</code>方法，传入 <code>BeanFactory</code>对象的实例。</li>
<li>如果实现了其他 *.Aware接口，就调用相应的方法。</li>
</ul>
</li>
<li>前置处理：如果有和加载这个 Bean 的 Spring 容器相关的 <code>BeanPostProcessor</code> 对象，执行<code>postProcessBeforeInitialization()</code> 方法</li>
<li>初始化方法：如果 Bean 实现了<code>InitializingBean</code>接口，执行<code>afterPropertiesSet()</code>方法。如果 Bean 在配置文件中的定义包含 <code>init-method</code> 属性，执行指定的方法。</li>
<li>后置处理：如果有和加载这个 Bean 的 Spring 容器相关的 <code>BeanPostProcessor</code> 对象，执行<code>postProcessAfterInitialization()</code> 方法。</li>
</ol>
</li>
<li>使用 Bean：Bean 可以被容器使用了，可以调用 Bean 的方法处理业务逻辑。</li>
<li>销毁 Bean：销毁并不是立马把 Bean 给销毁掉，而是把 Bean 的销毁方法先记录下来，将来需要销毁 Bean 或者销毁容器的时候，就调用这些方法去释放 Bean 所持有的资源。<ul>
<li>如果 Bean 实现了 <code>DisposableBean</code> 接口，执行 <code>destroy()</code> 方法。</li>
<li>如果 Bean 在配置文件中的定义包含 <code>destroy-method</code> 属性，执行指定的 Bean 销毁方法。</li>
<li>也可以直接通过<code>@PreDestroy</code> 注解标记 Bean 销毁之前执行的方法。</li>
</ul>
</li>
</ol>
<p><img src="/./image/Framework/spring-bean-lifestyle.png" alt="Bean的生命周期"></p>
<blockquote>
<p>Spring 中提供的 Aware 接口主要有：<br><code>BeanNameAware</code>：注入当前 <code>bean</code> 对应 <code>beanName</code>；<br><code>BeanClassLoaderAware</code>：注入加载当前 <code>bean</code> 的 <code>ClassLoader</code>；<br><code>BeanFactoryAware</code>：注入当前 <code>BeanFactory</code> 容器的引用。</p>
</blockquote>
<h3 id="Spring-AOP✅"><a href="#Spring-AOP✅" class="headerlink" title="Spring AOP✅"></a>Spring AOP✅</h3><h3 id="对Spring-AOP的理解"><a href="#对Spring-AOP的理解" class="headerlink" title="对Spring AOP的理解"></a>对Spring AOP的理解</h3><p>面向切面编程(Aspect-Oriented Programming, AOP)能够将那些与业务无关，却为业务模块所共同调用的逻辑或责任(例如事务处理、日志管理、权限控制等)封装起来，便于减少系统的重复代码，降低模块间的耦合度，并有利于未来的可拓展性和可维护性。</p>
<p>Spring AOP 就是基于动态代理的，如果要代理的对象，实现了某个接口，那么 Spring AOP 会使用 JDK Proxy，去创建代理对象，而对于没有实现接口的对象，就无法使用 JDK Proxy 去进行代理了，这时候 Spring AOP 会使用 Cglib 生成一个被代理对象的子类来作为代理，如下图所示：</p>
<p><img src="/./image/Framework/230ae587a322d6e4d09510161987d346.jpeg" alt="Spring AOP代理方式"></p>
<p>Spring AOP也集成了 AspectJ，可以使用 AspectJ 的注解来实现 AOP。</p>
<h3 id="Spring-AOP原理"><a href="#Spring-AOP原理" class="headerlink" title="Spring AOP原理"></a>Spring AOP原理</h3><p>Spring AOP(面向切面编程)是Spring框架中的一个重要模块，用于在不修改现有代码的情况下向程序中添加新的行为。基本原理和关键概念如下：</p>
<ol>
<li>核心概念<ul>
<li>Target(目标)：被通知的对象</li>
<li>Proxy(代理)：向目标对象应用通知之后创建的代理对象</li>
<li>Join Point(连接点)：目标对象的所属类中，定义的所有方法均为连接点</li>
<li>Pointcut(切点)：切点是用于匹配连接点的表达式。被切面拦截 &#x2F; 增强的连接点(切入点一定是连接点，连接点不一定是切入点)</li>
<li>Advice(通知)：增强的逻辑 &#x2F; 代码，也即拦截到目标对象的连接点之后要做的事情。Spring AOP支持五种类型的通知：前置通知(Before)、后置通知(After)、返回通知(AfterReturning)、异常通知(AfterThrowing)和环绕通知(Around)。</li>
<li>Aspect(切面)：切面是AOP的核心概念。切入点(Pointcut)+通知(Advice)。</li>
<li>Weaving(织入)：将通知应用到目标对象，进而生成代理对象的过程动作。Spring AOP在运行时通过动态代理实现织入。</li>
</ul>
</li>
<li>实现机制<br>Spring AOP主要通过两种方式来实现AOP功能：<ul>
<li>JDK动态代理：适用于基于接口的代理。Spring AOP使用JDK动态代理来创建实现了一个或多个接口的代理对象。 </li>
<li>CGLIB代理：适用于没有实现接口的类。Spring AOP使用CGLIB库生成目标类的子类来实现代理。</li>
</ul>
</li>
<li>工作流程<ul>
<li>定义切面和通知：使用<code>@Aspect</code>注解定义切面，并在切面类中使用<code>@Before</code>、<code>@After</code>等注解定义通知。 </li>
<li>配置AOP：在Spring配置文件中启用AOP支持，或使用<code>@EnableAspectJAutoProxy</code>注解来启用AOP自动代理。 </li>
<li>应用切面：Spring容器根据配置和切点表达式在运行时生成代理对象，并将通知织入到目标方法的执行中。</li>
</ul>
</li>
</ol>
<p>Spring AOP的核心在于通过动态代理和切点表达式，实现了对横切关注点的模块化管理，使得代码更易于维护和扩展。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义切面</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingAspect</span> &#123;</span><br><span class="line">    <span class="comment">// 定义切点表达式</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.example.service.*.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">serviceMethods</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="comment">// 定义前置通知</span></span><br><span class="line">    <span class="meta">@Before(&quot;serviceMethods()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logBefore</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Executing method: &quot;</span> + joinPoint.getSignature().getName());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 定义后置通知</span></span><br><span class="line">    <span class="meta">@After(&quot;serviceMethods()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">logAfter</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Method executed: &quot;</span> + joinPoint.getSignature().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 启用AOP支持</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> LoggingAspect <span class="title function_">loggingAspect</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">LoggingAspect</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在示例中，定义了一个<code>LoggingAspect</code>切面，其中包含前置通知和后置通知。然后，在Spring配置中启用了AOP支持，并将切面类注册为Bean。Spring容器将在运行时生成代理对象，并在目标方法执行前后执行通知。</p>
<h3 id="Spring-AOP-AspectJ-AOP区别"><a href="#Spring-AOP-AspectJ-AOP区别" class="headerlink" title="Spring AOP&#x2F;AspectJ AOP区别"></a>Spring AOP&#x2F;AspectJ AOP区别</h3><ol>
<li>实现方式<ul>
<li>Spring AOP：基于代理机制(Proxy-based)，主要使用JDK动态代理和CGLIB动态代理。属于运行时增强 </li>
<li>AspectJ AOP：基于字节码操作(Bytecode Manipulation)，通过编译时、加载时和运行时织入(Weaving)实现。属于编译时增强</li>
</ul>
</li>
<li>功能<ul>
<li>Spring AOP：只支持方法级别的AOP。 </li>
<li>AspectJ AOP：提供更强大的功能和更高的性能，适用于类级别和方法级别的AOP。</li>
</ul>
</li>
<li>性能<ul>
<li>Spring AOP：由于基于代理机制，性能相对较低，适用于大多数应用场景，但在高性能要求的场景中可能不够高效。 </li>
<li>AspectJ AOP：由于直接操作字节码，性能较高，适用于对性能要求较高的应用场景。</li>
</ul>
</li>
<li>配置和使用<ul>
<li>Spring AOP：配置相对简单，使用Spring的注解和配置文件即可实现。适用于已经使用Spring框架的应用，容易集成和使用。 </li>
<li>AspectJ AOP：配置较为复杂，需要AspectJ编译器或AspectJ加载时编织器。需要对AspectJ的语法和配置有一定了解，适用于需要更强大AOP功能的应用。</li>
</ul>
</li>
<li>使用场景 <ul>
<li>Spring AOP：适用于大多数Spring应用，特别是那些只需要方法级别AOP的场景。 </li>
<li>AspectJ AOP：适用于需要更强大AOP功能、更高性能和更细粒度控制的场景。</li>
</ul>
</li>
</ol>
<p>如果项目已经在使用Spring框架并且AOP需求较为简单，Spring AOP是一个不错的选择；如果需要更强大和高性能的AOP功能，AspectJ AOP是更好的选择。</p>
<h3 id="AspectJ的五种通知类型"><a href="#AspectJ的五种通知类型" class="headerlink" title="AspectJ的五种通知类型"></a>AspectJ的五种通知类型</h3><ul>
<li>Before(前置通知)：目标对象的方法调用之前触发</li>
<li>After (后置通知)：目标对象的方法调用之后触发</li>
<li>AfterReturning(返回通知)：目标对象的方法调用完成，在返回结果值之后触发</li>
<li>AfterThrowing(异常通知)：目标对象的方法运行中抛出 &#x2F; 触发异常后触发。AfterReturning 和 AfterThrowing 两者互斥。如果方法调用成功无异常，则会有返回值；如果方法抛出了异常，则不会有返回值。</li>
<li>Around (环绕通知)：编程式控制目标对象的方法调用。环绕通知是所有通知类型中可操作范围最大的一种，因为它可以直接拿到目标对象，以及要执行的方法，所以环绕通知可以任意的在目标对象的方法调用前后搞事，甚至不调用目标对象的方法</li>
</ul>
<h3 id="多个切面的执行顺序如何控制"><a href="#多个切面的执行顺序如何控制" class="headerlink" title="多个切面的执行顺序如何控制"></a>多个切面的执行顺序如何控制</h3><ol>
<li><p>通常使用<code>@Order</code> 注解直接定义切面顺序</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 值越小优先级越高</span></span><br><span class="line"><span class="meta">@Order(3)</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingAspect</span> <span class="keyword">implements</span> <span class="title class_">Ordered</span> &#123;</span><br></pre></td></tr></table></figure>
</li>
<li><p>实现<code>Ordered</code> 接口重写 <code>getOrder</code> 方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoggingAspect</span> <span class="keyword">implements</span> <span class="title class_">Ordered</span> &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 返回值越小优先级越高</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="SpringMVC✅"><a href="#SpringMVC✅" class="headerlink" title="SpringMVC✅"></a>SpringMVC✅</h3><h2 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h2><h2 id="SpringClod"><a href="#SpringClod" class="headerlink" title="SpringClod"></a>SpringClod</h2><h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="https://cwp0.github.io">cwp0</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="https://cwp0.github.io/posts/17771.html">https://cwp0.github.io/posts/17771.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9D%A2%E7%BB%8F/">面经</a><a class="post-meta__tags" href="/tags/%E6%A1%86%E6%9E%B6/">框架</a></div><div class="post_share"><div class="social-share" data-image="https://s2.loli.net/2024/06/12/tSWPZr1EQH6XRAm.png" data-sites="facebook,twitter,wechat,weibo,qq,google,linkedin,douban"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> Donate</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.JPG" target="_blank"><img class="post-qr-code-img" src="/img/wechat.JPG" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.JPG" target="_blank"><img class="post-qr-code-img" src="/img/alipay.JPG" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/posts/17772.html" title="手撕相关"><img class="cover" src="https://s2.loli.net/2024/06/13/pjr3CuksNxU9ZJK.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">手撕相关</div></div></a></div><div class="next-post pull-right"><a href="/posts/17769.html" title="数据库"><img class="cover" src="https://s2.loli.net/2024/06/12/cKiSbvguBp27oq8.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">数据库</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/posts/17776.html" title="Python知识点"><img class="cover" src="https://s2.loli.net/2024/06/27/RATGUg5c6FXC7mH.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-27</div><div class="title">Python知识点</div></div></a></div><div><a href="/posts/17775.html" title="C++知识点"><img class="cover" src="https://s2.loli.net/2024/06/27/xvtGedjogpz15iE.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-27</div><div class="title">C++知识点</div></div></a></div><div><a href="/posts/17767.html" title="前端&amp;移动端面经"><img class="cover" src="https://s2.loli.net/2024/05/27/QygHftOujrEodTW.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-05-27</div><div class="title">前端&amp;移动端面经</div></div></a></div><div><a href="/posts/17777.html" title="智力题"><img class="cover" src="https://s2.loli.net/2024/06/27/9KWGke8lsJaM1fi.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-27</div><div class="title">智力题</div></div></a></div><div><a href="/posts/17769.html" title="数据库"><img class="cover" src="https://s2.loli.net/2024/06/12/cKiSbvguBp27oq8.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-12</div><div class="title">数据库</div></div></a></div><div><a href="/posts/17778.html" title="系统设计"><img class="cover" src="https://s2.loli.net/2024/06/27/OKRYQHdoCfGmgxr.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2024-06-27</div><div class="title">系统设计</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div><div id="comment-switch"><span class="first-comment">Valine</span><span class="switch-btn"></span><span class="second-comment"> Disqus</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div><div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/assets/%E5%A4%B4%E5%83%8F.JPG" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">cwp0</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">20</div></a><a href="/tags/"><div class="headline">Tags</div><div class="length-num">27</div></a><a href="/categories/"><div class="headline">Categories</div><div class="length-num">7</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/cwp0"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/cwp0" target="_blank" title="Github"><i class="fab fa-github" style="color: #9F9F9F;"></i></a><a class="social-icon" href="mailto:wenpengchen@njust.edu.cn" target="_blank" title="Email"><i class="fas fa-envelope" style="color: 9F9F9F;"></i></a><a class="social-icon" href="/img/alipay.JPG" target="_blank" title="QQ"><i class="fa-brands fa-qq" style="color: #9F9F9F;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>Announcement</span></div><div class="announcement_content">This site is under construction...</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Spring"><span class="toc-text">Spring</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSpring"><span class="toc-text">什么是Spring</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring%E6%A8%A1%E5%9D%97"><span class="toc-text">Spring模块</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-Spring-Boot-Spring-MVC%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-text">Spring&#x2F;Spring Boot&#x2F;Spring MVC之间的关系</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-IoC%E2%9C%85"><span class="toc-text">Spring IoC✅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9Spring-IoC%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">对Spring IoC的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-IoC%E5%8E%9F%E7%90%86"><span class="toc-text">Spring IoC原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFSpring-Bean"><span class="toc-text">什么是Spring Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%86%E4%B8%80%E4%B8%AA%E7%B1%BB%E5%A3%B0%E6%98%8E%E4%B8%BABean%E7%9A%84%E6%B3%A8%E8%A7%A3%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-text">将一个类声明为Bean的注解有哪些</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Component-Bean%E5%8C%BA%E5%88%AB"><span class="toc-text">@Component&#x2F;@Bean区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E6%B3%A8%E5%85%A5Bean%E7%9A%84%E6%B3%A8%E8%A7%A3%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-text">用于注入Bean的注解有哪些？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Autowired"><span class="toc-text">@Autowired</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Resource"><span class="toc-text">@Resource</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Qualifier"><span class="toc-text">@Qualifier</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Inject"><span class="toc-text">@Inject</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Value"><span class="toc-text">@Value</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Autowired-Resource%E5%8C%BA%E5%88%AB"><span class="toc-text">@Autowired&#x2F;@Resource区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bean%E7%9A%84%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%9C%89%E5%93%AA%E4%BA%9B%EF%BC%9F"><span class="toc-text">Bean的作用域有哪些？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bean%E6%98%AF%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E7%9A%84%E5%90%97"><span class="toc-text">Bean是线程安全的吗</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Singleton-Bean"><span class="toc-text">Singleton Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Prototype-Bean"><span class="toc-text">Prototype Bean</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Request-%E5%92%8C-Session-Scoped-Beans"><span class="toc-text">Request 和 Session Scoped Beans</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Application-Scoped-Beans"><span class="toc-text">Application Scoped Beans</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Global-Session-Scoped-Beans"><span class="toc-text">Global Session Scoped Beans</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-text">Bean的生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-AOP%E2%9C%85"><span class="toc-text">Spring AOP✅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AF%B9Spring-AOP%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-text">对Spring AOP的理解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-AOP%E5%8E%9F%E7%90%86"><span class="toc-text">Spring AOP原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Spring-AOP-AspectJ-AOP%E5%8C%BA%E5%88%AB"><span class="toc-text">Spring AOP&#x2F;AspectJ AOP区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#AspectJ%E7%9A%84%E4%BA%94%E7%A7%8D%E9%80%9A%E7%9F%A5%E7%B1%BB%E5%9E%8B"><span class="toc-text">AspectJ的五种通知类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E4%B8%AA%E5%88%87%E9%9D%A2%E7%9A%84%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E5%A6%82%E4%BD%95%E6%8E%A7%E5%88%B6"><span class="toc-text">多个切面的执行顺序如何控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#SpringMVC%E2%9C%85"><span class="toc-text">SpringMVC✅</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringBoot"><span class="toc-text">SpringBoot</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SpringClod"><span class="toc-text">SpringClod</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96"><span class="toc-text">其他</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/17779.html" title="游戏研发面经"><img src="https://s2.loli.net/2024/06/28/RviHxaoQPJhA8wj.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="游戏研发面经"/></a><div class="content"><a class="title" href="/posts/17779.html" title="游戏研发面经">游戏研发面经</a><time datetime="2024-06-27T16:10:26.000Z" title="Created 2024-06-28 00:10:26">2024-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17777.html" title="智力题"><img src="https://s2.loli.net/2024/06/27/9KWGke8lsJaM1fi.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="智力题"/></a><div class="content"><a class="title" href="/posts/17777.html" title="智力题">智力题</a><time datetime="2024-06-27T15:39:07.000Z" title="Created 2024-06-27 23:39:07">2024-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17778.html" title="系统设计"><img src="https://s2.loli.net/2024/06/27/OKRYQHdoCfGmgxr.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="系统设计"/></a><div class="content"><a class="title" href="/posts/17778.html" title="系统设计">系统设计</a><time datetime="2024-06-27T15:39:07.000Z" title="Created 2024-06-27 23:39:07">2024-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17776.html" title="Python知识点"><img src="https://s2.loli.net/2024/06/27/RATGUg5c6FXC7mH.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python知识点"/></a><div class="content"><a class="title" href="/posts/17776.html" title="Python知识点">Python知识点</a><time datetime="2024-06-27T08:32:01.000Z" title="Created 2024-06-27 16:32:01">2024-06-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/17775.html" title="C++知识点"><img src="https://s2.loli.net/2024/06/27/xvtGedjogpz15iE.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="C++知识点"/></a><div class="content"><a class="title" href="/posts/17775.html" title="C++知识点">C++知识点</a><time datetime="2024-06-27T08:31:43.000Z" title="Created 2024-06-27 16:31:43">2024-06-27</time></div></div></div></div></div></div></main><footer id="footer" style="background: transparent"><div id="footer-wrap"><div class="copyright">&copy;2023 - 2024  <i id="heartbeat" class="fa fas fa-heartbeat"></i> cwp0</div><div class="framework-info"><span>Framework </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>Theme </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div><link rel="stylesheet" href="https://fastly.jsdelivr.net/gh/HCLonely/images@master/others/heartbeat.min.css"></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="Switch Between Traditional Chinese And Simplified Chinese">繁</button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><button id="chat-btn" type="button" title="Chat"><i class="fas fa-sms"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaid = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaid.length === 0) return
  const runMermaid = () => {
    window.loadMermaid = true
    const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

    Array.from($mermaid).forEach((item, index) => {
      const mermaidSrc = item.firstElementChild
      const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
      const mermaidID = 'mermaid-' + index
      const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent

      const renderFn = mermaid.render(mermaidID, mermaidDefinition)

      const renderV10 = () => {
        renderFn.then(({svg}) => {
          mermaidSrc.insertAdjacentHTML('afterend', svg)
        })
      }

      const renderV9 = svg => {
        mermaidSrc.insertAdjacentHTML('afterend', svg)
      }

      typeof renderFn === 'string' ? renderV9(renderFn) : renderV10()
    })
  }

  const loadMermaid = () => {
    window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
  }

  btf.addModeChange('mermaid', runMermaid)

  window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
})()</script><script>function loadValine () {
  function initValine () {
    const valine = new Valine(Object.assign({
      el: '#vcomment',
      appId: 'nfRxTBEmIAeb6gP2K0LOdLqw-gzGzoHsz',
      appKey: 'vmeDN8k58dVdPv5Yz7NEkvSN',
      avatar: 'monsterid',
      serverURLs: '',
      emojiMaps: "",
      tagMeta: ["博主", "小伙伴", "访客"],
      master: ['fb5b8162294f5bda9321f095ee3a5857', '8c0fcea8917ddba8e86ee8a88c2a15a9'],
      friends:  [],
      path: window.location.pathname,
      visitor: false
    }, null))
  }

  if (typeof Valine === 'function') initValine()
  else getScript('/js/Valine.min.js').then(initValine)
}

if ('Valine' === 'Valine' || !true) {
  if (true) btf.loadComment(document.getElementById('vcomment'),loadValine)
  else setTimeout(loadValine, 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script></div><script async src="https://npm.elemecdn.com/tzy-blog/lib/js/other/sakura.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script>(() => {
  window.$crisp = [];
  window.CRISP_WEBSITE_ID = "19701af9-3bff-41b9-919e-742aca557e36";
  (function () {
    d = document;
    s = d.createElement("script");
    s.src = "https://client.crisp.chat/l.js";
    s.async = 1;
    d.getElementsByTagName("head")[0].appendChild(s);
  })();
  $crisp.push(["safe", true])

  const isChatBtn = true
  const isChatHideShow = true

  if (isChatBtn) {
    const open = () => {
      $crisp.push(["do", "chat:show"])
      $crisp.push(["do", "chat:open"])
    }

    const close = () => {
      $crisp.push(["do", "chat:hide"])
    }

    close()
    $crisp.push(["on", "chat:closed", function() {
      close()
    }])

    window.chatBtnFn = () => {
      $crisp.is("chat:visible") ? close() : open()
    }
  } else if (isChatHideShow) {
    window.chatBtn = {
      hide: () => {
        $crisp.push(["do", "chat:hide"])
      },
      show: () => {
        $crisp.push(["do", "chat:show"])
      }
    }
  }
})()</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Search</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script></div></div></body></html>